# 07 - å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### æ­¥éª¤ 1: é˜…è¯»æ ¸å¿ƒæ–‡æ¡£ (5 åˆ†é’Ÿ)
1. âœ… `README.md` - äº†è§£æ–‡æ¡£ç»“æ„
2. âœ… `01_Project_Context.md` - äº†è§£é¡¹ç›®èƒŒæ™¯
3. âœ… `03_Phase3_Task_List.md` - äº†è§£ä»»åŠ¡æ¸…å•

### æ­¥éª¤ 2: ç¯å¢ƒå‡†å¤‡ (10 åˆ†é’Ÿ)
1. æ‰“å¼€é¡¹ç›®
2. ç¼–è¯‘ç°æœ‰ä»£ç 
3. è¿è¡Œç¼–è¾‘å™¨æµ‹è¯•

### æ­¥éª¤ 3: å¼€å§‹å®æ–½ (2 å°æ—¶)
æŒ‰ç…§ `04_Implementation_Plan.md` çš„æ­¥éª¤æ‰§è¡Œ

---

## ğŸ’» ç¯å¢ƒé…ç½®

### å¿…éœ€è½¯ä»¶
- âœ… Unreal Engine 5.6
- âœ… Visual Studio 2022
- âœ… Windows 10/11

### é¡¹ç›®è·¯å¾„
```
d:\UEProject\ReserchPJ\ExtendEditor\ExtendEditor\
```

### ç¼–è¯‘å‘½ä»¤
```powershell
# æ–¹å¼ 1: ä½¿ç”¨æ‰¹å¤„ç†æ–‡ä»¶
d:\UEProject\ReserchPJ\ExtendEditor\ExtendEditor\compile.bat

# æ–¹å¼ 2: ä½¿ç”¨ Visual Studio
# æ‰“å¼€ ExtendEditor.sln
# æŒ‰ Ctrl+Shift+B ç¼–è¯‘
```

---

## ğŸ“ ç¬¬ä¸€æ¬¡ç¼–è¯‘

### 1. ç¼–è¯‘ç°æœ‰ä»£ç 

```powershell
cd d:\UEProject\ReserchPJ\ExtendEditor\ExtendEditor
.\compile.bat
```

**é¢„æœŸç»“æœ**:
```
Build succeeded
Total time: XX seconds
```

**å¦‚æœå¤±è´¥**:
- æ£€æŸ¥ UE 5.6 æ˜¯å¦æ­£ç¡®å®‰è£…
- æ£€æŸ¥ VS 2022 æ˜¯å¦æ­£ç¡®å®‰è£…
- æŸ¥çœ‹é”™è¯¯æ—¥å¿—

### 2. æ‰“å¼€ç¼–è¾‘å™¨

```powershell
# å¯åŠ¨ç¼–è¾‘å™¨
start ExtendEditor.uproject
```

**é¢„æœŸç»“æœ**:
- ç¼–è¾‘å™¨æ­£å¸¸å¯åŠ¨
- æ’ä»¶å·²åŠ è½½
- æ— é”™è¯¯æç¤º

### 3. éªŒè¯ç°æœ‰åŠŸèƒ½

1. **æ‰“å¼€ Stage Editor é¢æ¿**
   - Window â†’ Stage Editor

2. **åˆ›å»ºæµ‹è¯•å…³å¡**
   - å¿…é¡»æ˜¯ World Partition å…³å¡
   - å¯ç”¨ "Use External Actors"

3. **æµ‹è¯•ç°æœ‰åŠŸèƒ½**
   - åˆ›å»º Stage
   - æ·»åŠ  Act
   - éªŒè¯ DataLayer åˆ›å»º

---

## ğŸ¯ å¼€å§‹å®æ–½ Phase 3

### å®æ–½é¡ºåº

#### ç¬¬ 1 æ­¥: åˆ›å»º Subsystem (30 åˆ†é’Ÿ)

**æ–‡ä»¶ä½ç½®**:
```
Plugins/StageEditor/Source/StageEditor/
â”œâ”€â”€ Public/Subsystems/
â”‚   â””â”€â”€ StageEditorSubsystem.h      # åˆ›å»ºè¿™ä¸ª
â””â”€â”€ Private/Subsystems/
    â””â”€â”€ StageEditorSubsystem.cpp    # åˆ›å»ºè¿™ä¸ª
```

**å‚è€ƒ**:
- `04_Implementation_Plan.md` ç¬¬ 1 èŠ‚
- `05_Code_Reference.md` æ¨¡å¼ç¤ºä¾‹

**éªŒè¯**:
```cpp
// ç¼–è¯‘ååœ¨ç¼–è¾‘å™¨å¯åŠ¨æ—¶åº”è¯¥çœ‹åˆ°æ—¥å¿—:
LogTemp: âœ… StageEditorSubsystem initialized
```

---

#### ç¬¬ 2 æ­¥: ä¿®æ”¹ Stage Actor (30 åˆ†é’Ÿ)

**æ–‡ä»¶ä½ç½®**:
```
Plugins/StageEditor/Source/StageEditorRuntime/
â”œâ”€â”€ Public/Actors/
â”‚   â””â”€â”€ Stage.h                     # ä¿®æ”¹è¿™ä¸ª
â””â”€â”€ Private/Actors/
    â””â”€â”€ Stage.cpp                   # ä¿®æ”¹è¿™ä¸ª
```

**ä¿®æ”¹ç‚¹**:
1. æ·»åŠ  `PostActorCreated()`
2. æ›´æ–° `PostEditChangeProperty()`
3. æ·»åŠ  `RegisterWithSubsystem()`

**éªŒè¯**:
```cpp
// åˆ›å»º Stage ååº”è¯¥çœ‹åˆ°æ—¥å¿—:
LogTemp: âœ… Registered Stage 'Stage_1' with ID: 1
```

---

#### ç¬¬ 3 æ­¥: æ›´æ–° Controller (30 åˆ†é’Ÿ)

**æ–‡ä»¶ä½ç½®**:
```
Plugins/StageEditor/Source/StageEditor/
â”œâ”€â”€ Public/EditorLogic/
â”‚   â””â”€â”€ StageEditorController.h     # ä¿®æ”¹è¿™ä¸ª
â””â”€â”€ Private/EditorLogic/
    â””â”€â”€ StageEditorController.cpp   # ä¿®æ”¹è¿™ä¸ª
```

**ä¿®æ”¹ç‚¹**:
1. æ·»åŠ  `GetSubsystem()`
2. æ›´æ–° `CreateDataLayerForStage()`
3. æ›´æ–° `CreateDataLayerForAct()`

**éªŒè¯**:
```cpp
// DataLayer åç§°åº”è¯¥æ˜¯:
DL_Stage_1
DL_Act_1_1
```

---

#### ç¬¬ 4 æ­¥: æµ‹è¯• (30 åˆ†é’Ÿ)

**æµ‹è¯•ç”¨ä¾‹**:
1. åˆ›å»ºå•ä¸ª Stage â†’ éªŒè¯ ID = 1
2. åˆ›å»ºå¤šä¸ª Stage â†’ éªŒè¯ ID é€’å¢
3. åˆ›å»º Act â†’ éªŒè¯ DataLayer å‘½å
4. åˆ é™¤ Stage â†’ éªŒè¯å–æ¶ˆæ³¨å†Œ

**å‚è€ƒ**: `03_Phase3_Task_List.md` ä»»åŠ¡ 4

---

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜ 1: ç¼–è¯‘å¤±è´¥

**é”™è¯¯**: `Cannot find StageEditorSubsystem.h`

**è§£å†³**:
1. æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥æ–‡ä»¶åå¤§å°å†™
3. é‡æ–°ç”Ÿæˆé¡¹ç›®æ–‡ä»¶

```powershell
# é‡æ–°ç”Ÿæˆ
å³é”® ExtendEditor.uproject â†’ Generate Visual Studio project files
```

---

### é—®é¢˜ 2: Subsystem æœªåˆå§‹åŒ–

**ç—‡çŠ¶**: è·å– Subsystem è¿”å› nullptr

**è§£å†³**:
1. ç¡®ä¿åœ¨ `#if WITH_EDITOR` å—ä¸­
2. ç¡®ä¿ç¼–è¾‘å™¨å·²å®Œå…¨å¯åŠ¨
3. æ£€æŸ¥æ—¥å¿—æ˜¯å¦æœ‰åˆå§‹åŒ–æ¶ˆæ¯

---

### é—®é¢˜ 3: StageID ä¸º 0

**ç—‡çŠ¶**: Stage åˆ›å»ºå StageID ä»ä¸º 0

**è§£å†³**:
1. æ£€æŸ¥ `PostActorCreated` æ˜¯å¦è¢«è°ƒç”¨
2. æ·»åŠ æ–­ç‚¹è°ƒè¯•
3. æ£€æŸ¥æ—¥å¿—è¾“å‡º

```cpp
// æ·»åŠ è°ƒè¯•æ—¥å¿—
UE_LOG(LogTemp, Warning, TEXT("DEBUG: PostActorCreated called"));
```

---

### é—®é¢˜ 4: DataLayer åç§°æœªæ›´æ–°

**ç—‡çŠ¶**: DataLayer ä»ä½¿ç”¨æ—§å‘½å

**è§£å†³**:
1. åˆ é™¤æ—§çš„ DataLayer èµ„äº§
2. é‡æ–°åˆ›å»º Stage
3. æ£€æŸ¥ `CreateDataLayerForStage` æ˜¯å¦ä½¿ç”¨æ–°é€»è¾‘

---

## ğŸ“Š è¿›åº¦æ£€æŸ¥ç‚¹

### æ£€æŸ¥ç‚¹ 1: Subsystem åˆ›å»ºå®Œæˆ
- [ ] æ–‡ä»¶å·²åˆ›å»º
- [ ] ä»£ç ç¼–è¯‘é€šè¿‡
- [ ] æ—¥å¿—æ˜¾ç¤ºåˆå§‹åŒ–æˆåŠŸ

### æ£€æŸ¥ç‚¹ 2: Stage æ³¨å†Œå®Œæˆ
- [ ] `PostActorCreated` å®ç°
- [ ] åˆ›å»º Stage æ—¶è‡ªåŠ¨åˆ†é… ID
- [ ] æ—¥å¿—æ˜¾ç¤ºæ³¨å†ŒæˆåŠŸ

### æ£€æŸ¥ç‚¹ 3: Controller æ›´æ–°å®Œæˆ
- [ ] `GetSubsystem` å®ç°
- [ ] DataLayer åˆ›å»ºä½¿ç”¨ ID
- [ ] åç§°æ ¼å¼æ­£ç¡®

### æ£€æŸ¥ç‚¹ 4: æµ‹è¯•é€šè¿‡
- [ ] æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡
- [ ] æ— ç¼–è¯‘é”™è¯¯
- [ ] æ— è¿è¡Œæ—¶é”™è¯¯

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

### åŠŸèƒ½éªŒè¯
```
âœ… åˆ›å»º Stage â†’ StageID = 1
âœ… åˆ›å»ºç¬¬äºŒä¸ª Stage â†’ StageID = 2
âœ… DataLayer åç§° = DL_Stage_1, DL_Stage_2
âœ… åˆ›å»º Act â†’ DataLayer åç§° = DL_Act_1_1
âœ… åˆ é™¤ Stage â†’ Subsystem ä¸­å·²ç§»é™¤
```

### ä»£ç è´¨é‡
```
âœ… æ— ç¼–è¯‘é”™è¯¯
âœ… æ— ç¼–è¯‘è­¦å‘Š
âœ… ä»£ç ç¬¦åˆé£æ ¼
âœ… æ³¨é‡Šå®Œæ•´
âœ… æ—¥å¿—æ¸…æ™°
```

---

## ğŸ“ è·å–å¸®åŠ©

### æ–‡æ¡£å‚è€ƒ
1. **å®æ–½ç»†èŠ‚** â†’ `04_Implementation_Plan.md`
2. **ä»£ç ç¤ºä¾‹** â†’ `05_Code_Reference.md`
3. **ä»»åŠ¡æ¸…å•** â†’ `03_Phase3_Task_List.md`

### è°ƒè¯•æŠ€å·§
1. **æŸ¥çœ‹æ—¥å¿—**: Output Log â†’ æœç´¢ "LogTemp"
2. **æ·»åŠ æ–­ç‚¹**: åœ¨å…³é”®å‡½æ•°ä¸­è®¾ç½®æ–­ç‚¹
3. **æ‰“å°å˜é‡**: ä½¿ç”¨ `UE_LOG` è¾“å‡ºå˜é‡å€¼

### ä»£ç å‚è€ƒ
æŸ¥çœ‹å·²å®Œæˆçš„ Phase 1-2 ä»£ç ï¼Œå­¦ä¹ æ¨¡å¼å’Œé£æ ¼ã€‚

---

## â±ï¸ æ—¶é—´è§„åˆ’

### æ¨èæ—¶é—´è¡¨

**ç¬¬ä¸€å¤©ä¸Šåˆ** (2 å°æ—¶)
- 09:00-09:30: é˜…è¯»æ–‡æ¡£
- 09:30-10:00: ç¯å¢ƒå‡†å¤‡å’Œç¼–è¯‘
- 10:00-10:30: åˆ›å»º Subsystem
- 10:30-11:00: æµ‹è¯• Subsystem

**ç¬¬ä¸€å¤©ä¸‹åˆ** (2 å°æ—¶)
- 14:00-14:30: ä¿®æ”¹ Stage Actor
- 14:30-15:00: æµ‹è¯• Stage æ³¨å†Œ
- 15:00-15:30: æ›´æ–° Controller
- 15:30-16:00: å…¨é¢æµ‹è¯•

**æ€»è®¡**: çº¦ 4 å°æ—¶ï¼ˆåŒ…å«é˜…è¯»å’Œæµ‹è¯•ï¼‰

---

## âœ… æœ€åæ£€æŸ¥æ¸…å•

å¼€å§‹å‰:
- [ ] å·²é˜…è¯»æ ¸å¿ƒæ–‡æ¡£
- [ ] ç¯å¢ƒå·²é…ç½®
- [ ] ç°æœ‰ä»£ç å·²ç¼–è¯‘
- [ ] ç¼–è¾‘å™¨å¯æ­£å¸¸è¿è¡Œ

å®æ–½ä¸­:
- [ ] æ¯æ­¥å®Œæˆåç¼–è¯‘æµ‹è¯•
- [ ] æ·»åŠ æ—¥å¿—è¾“å‡º
- [ ] éµå¾ªä»£ç é£æ ¼
- [ ] æ·»åŠ æ³¨é‡Š

å®Œæˆå:
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] ä»£ç å·²æäº¤
- [ ] æ–‡æ¡£å·²æ›´æ–°
- [ ] é—®é¢˜å·²è®°å½•

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿå¼€å§‹æ‚¨çš„ Phase 3 ä¹‹æ—…ï¼** ğŸš€

**ä¸‹ä¸€æ­¥**: æ‰“å¼€ `04_Implementation_Plan.md` å¼€å§‹è¯¦ç»†å®æ–½ï¼
