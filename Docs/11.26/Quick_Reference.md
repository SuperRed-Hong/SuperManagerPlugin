# å¿«é€Ÿå‚è€ƒ - DataLayer å’Œ World Partition é…ç½®

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ¬¡ä½¿ç”¨ Stage Editor çš„ DataLayer åŠŸèƒ½

#### æ­¥éª¤ 1: è½¬æ¢å…³å¡ä¸º World Partition
1. æ‰“å¼€ Stage Editor é¢æ¿
2. ç‚¹å‡» **"Convert to World Partition"** æŒ‰é’®
3. åœ¨å¯¹è¯æ¡†ä¸­é€‰æ‹©ï¼š
   - âœ… åˆ›å»ºå‰¯æœ¬ï¼ˆæ¨èï¼Œä¿ç•™åŸå…³å¡ï¼‰
   - âœ… ç”Ÿæˆ INI
4. ç‚¹å‡» **OK** å¼€å§‹è½¬æ¢
5. ç­‰å¾…è½¬æ¢å®Œæˆ

#### æ­¥éª¤ 2: å¯ç”¨ External Objects
1. æ‰“å¼€ **Window â†’ World Settings**
2. æ‰¾åˆ° **World Partition** éƒ¨åˆ†
3. å‹¾é€‰ **"Use Actor Folder Objects"**
4. å‹¾é€‰ **"Use External Actors"**
5. **ä¿å­˜å…³å¡** (Ctrl+S)
6. **é‡å¯ç¼–è¾‘å™¨**

#### æ­¥éª¤ 3: æµ‹è¯• DataLayer åˆ›å»º
1. æ‰“å¼€ Stage Editor é¢æ¿
2. åˆ›å»ºä¸€ä¸ª Stageï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
3. ç‚¹å‡» **"Add Act"** æŒ‰é’®
4. æ£€æŸ¥ Content Browser ä¸­çš„ `/Game/StageEditor/DataLayers/` æ–‡ä»¶å¤¹
5. åº”è¯¥èƒ½çœ‹åˆ°æ–°åˆ›å»ºçš„ DataLayer èµ„äº§

---

## âš ï¸ å¸¸è§é—®é¢˜å¿«é€Ÿè§£å†³

### é—®é¢˜ 1: ç‚¹å‡» "Add Act" æ²¡æœ‰åˆ›å»º DataLayer

**å¯èƒ½åŸå› **:
- å…³å¡ä¸æ˜¯ World Partition ç±»å‹
- æ²¡æœ‰å¯ç”¨ External Objects

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥å…³å¡æ˜¯å¦æ˜¯ World Partitionï¼ˆWorld Settings ä¸­åº”è¯¥æœ‰ "World Partition" éƒ¨åˆ†ï¼‰
2. å¦‚æœä¸æ˜¯ï¼Œä½¿ç”¨ "Convert to World Partition" æŒ‰é’®
3. ç¡®ä¿å¯ç”¨äº† "Use External Actors"

### é—®é¢˜ 2: çœ‹åˆ°é”™è¯¯ "Level does not support External Objects"

**è§£å†³æ–¹æ³•**:
1. World Settings â†’ World Partition
2. å‹¾é€‰ "Use Actor Folder Objects"
3. å‹¾é€‰ "Use External Actors"
4. ä¿å­˜å…³å¡
5. é‡å¯ç¼–è¾‘å™¨

### é—®é¢˜ 3: DataLayer åˆ›å»ºäº†ä½†æ˜¯æ˜¯é»‘è‰²çš„

**åŸå› **: ä½¿ç”¨äº†æ—§ç‰ˆæœ¬ä»£ç 

**è§£å†³æ–¹æ³•**:
1. æ›´æ–°åˆ°æœ€æ–°ä»£ç 
2. åˆ é™¤æ—§çš„ DataLayer èµ„äº§
3. é‡æ–°åˆ›å»º

### é—®é¢˜ 4: UE å´©æºƒ

**åŸå› **: ä½¿ç”¨äº†æ—§ç‰ˆæœ¬ä»£ç ï¼ˆå·²ä¿®å¤ï¼‰

**è§£å†³æ–¹æ³•**:
1. æ›´æ–°åˆ°æœ€æ–°ä»£ç 
2. é‡æ–°ç¼–è¯‘
3. ç°åœ¨ä¼šæ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤ºè€Œä¸æ˜¯å´©æºƒ

---

## ğŸ“‹ é…ç½®æ£€æŸ¥æ¸…å•

### World Partition é…ç½® âœ…

- [ ] å…³å¡å·²è½¬æ¢ä¸º World Partition
- [ ] World Settings ä¸­æœ‰ "World Partition" éƒ¨åˆ†
- [ ] "Use Actor Folder Objects" å·²å‹¾é€‰
- [ ] "Use External Actors" å·²å‹¾é€‰
- [ ] å…³å¡å·²ä¿å­˜
- [ ] ç¼–è¾‘å™¨å·²é‡å¯

### DataLayer åŠŸèƒ½éªŒè¯ âœ…

- [ ] åˆ›å»º Stage æˆåŠŸ
- [ ] åˆ›å»º Act æˆåŠŸ
- [ ] DataLayer èµ„äº§è‡ªåŠ¨åˆ›å»º
- [ ] DataLayer æœ‰é¢œè‰²ï¼ˆä¸æ˜¯é»‘è‰²ï¼‰
- [ ] DataLayer ç±»å‹ä¸º Runtime
- [ ] Props å¯ä»¥æ³¨å†Œåˆ° Stage

---

## ğŸ”§ å…³é”®è®¾ç½®ä½ç½®

### World Settings
- **ä½ç½®**: Window â†’ World Settings
- **å…³é”®é€‰é¡¹**:
  - World Partition
    - âœ… Use Actor Folder Objects
    - âœ… Use External Actors
    - âœ… Enable World Bounds Checksï¼ˆå¯é€‰ï¼‰

### Stage Editor Panel
- **ä½ç½®**: Window â†’ Stage Editor
- **å…³é”®æŒ‰é’®**:
  - Convert to World Partition
  - Create Stage
  - Add Act
  - Register Props

### Asset Creation Settings
- **ä½ç½®**: Stage Editor Panel â†’ Asset Creation Settings
- **å…³é”®é€‰é¡¹**:
  - Stage Blueprint Folder Path
  - Prop Blueprint Folder Path
  - DataLayer Asset Folder Path
    - âœ… Use Custom Pathï¼ˆå¯é€‰ï¼‰
    - é»˜è®¤: `/Game/StageEditor/DataLayers/`

---

## ğŸ“‚ æ–‡ä»¶ä½ç½®

### DataLayer èµ„äº§
- **é»˜è®¤è·¯å¾„**: `/Game/StageEditor/DataLayers/`
- **å‘½åè§„åˆ™**:
  - Stage: `DL_Stage_{StageName}`
  - Act: `DL_Act_{StageName}_{ActID}_{ActName}`

### External Actors
- **è·¯å¾„**: `Content/__ExternalActors__/{LevelName}/`
- **è¯´æ˜**: å¯ç”¨ External Actors åï¼Œæ‰€æœ‰ Actor ä¼šè¢«ç§»åŠ¨åˆ°è¿™é‡Œ

### World Data Layers
- **è·¯å¾„**: `Content/__ExternalObjects__/{LevelName}/`
- **è¯´æ˜**: World Partition çš„ DataLayer é…ç½®æ–‡ä»¶

---

## ğŸ¯ ä¸‹ä¸€æ­¥å·¥ä½œ

### ç«‹å³ä»»åŠ¡
1. [ ] ç¼–è¯‘é¡¹ç›®
2. [ ] æµ‹è¯• World Partition è½¬æ¢
3. [ ] é…ç½® External Objects
4. [ ] æµ‹è¯• DataLayer åˆ›å»º

### åç»­ä»»åŠ¡
1. [ ] Phase 3: DataLayer Creation Uniqueness
2. [ ] Phase 4: UI Display Name Handling
3. [ ] Phase 5: Backward Compatibility
4. [ ] Phase 6: Testing

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

### æœ¬æ¬¡ä¼šè¯æ–‡æ¡£
- `Session_Summary.md` - å®Œæ•´çš„ä¼šè¯æ€»ç»“
- `Quick_Reference.md` - æœ¬æ–‡ä»¶

### ä¹‹å‰çš„æ–‡æ¡£
- `Docs\Artifacts\MultiUser_And_DataLayer_Configuration\README.md`
- `Docs\Artifacts\MultiUser_And_DataLayer_Configuration\DataLayer_Crash_Fix.md`
- `Docs\Artifacts\MultiUser_And_DataLayer_Configuration\WorldPartition_Conversion_Update.md`
- `Docs\Artifacts\MultiUser_And_DataLayer_Configuration\Task_Progress.md`

---

## ğŸ’¡ æç¤º

### æœ€ä½³å®è·µ
1. âœ… æ€»æ˜¯å…ˆè½¬æ¢ä¸º World Partition
2. âœ… æ€»æ˜¯å¯ç”¨ External Actors
3. âœ… å®šæœŸä¿å­˜å…³å¡
4. âœ… ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶
5. âœ… å¤‡ä»½é‡è¦æ•°æ®

### é¿å…çš„æ“ä½œ
1. âŒ ä¸è¦åœ¨é World Partition å…³å¡ä¸­ä½¿ç”¨ DataLayer åŠŸèƒ½
2. âŒ ä¸è¦å¿˜è®°å¯ç”¨ External Actors
3. âŒ ä¸è¦åœ¨è½¬æ¢è¿‡ç¨‹ä¸­å…³é—­ç¼–è¾‘å™¨
4. âŒ ä¸è¦æ‰‹åŠ¨ä¿®æ”¹ External Actors æ–‡ä»¶å¤¹

---

**æœ€åæ›´æ–°**: 2025-11-26  
**ç‰ˆæœ¬**: 1.0
