# Stage Editor Plugin - Development Tasks

## Phase 0: åŸºç¡€è®¾æ–½ (Infrastructure) âœ…
- [x] æ’ä»¶ç»“æ„åˆ›å»ºï¼ˆåŒæ¨¡å—ï¼‰
- [x] ç›®å½•ç»“æ„é‡ç»„ï¼ˆåŠŸèƒ½å¯¼å‘ï¼‰
- [x] Tab æ³¨å†Œåˆ° Window èœå•
- [x] Runtime æ ¸å¿ƒç±»å‹ï¼ˆStageCoreTypes.hï¼‰
- [x] æ··åˆ Prop æ¶æ„ï¼ˆComponent + Base Classï¼‰

---

## Phase 1: åŸå‹ (Prototype) - æ ¸å¿ƒæµç¨‹ ğŸ”´

### 1.1 Runtime æ ¸å¿ƒä¿®å¤
- [x] `UStagePropComponent` å®ç°
- [x] `AProp` ä¾¿åˆ©åŸºç±»
- [x] `AStage` åŸºç¡€ç»“æ„
- [x] **ğŸ”´ P0: AStage è‡ªåŠ¨åˆ›å»º Default Act**
  - åœ¨æ„é€ å‡½æ•°ä¸­æ·»åŠ 
  - éªŒè¯ï¼šæ‰“å¼€å…³å¡ï¼ŒStage è‡ªå¸¦ Default Act
- [x] **ğŸ”´ P0: æ³¨å†Œ Prop æ—¶è‡ªåŠ¨åŠ å…¥ Default Act**
  - ä¿®æ”¹ `RegisterProp()` æ·»åŠ åˆ° Default Act
  - éªŒè¯ï¼šæ³¨å†Œååœ¨ Default Act ä¸‹èƒ½çœ‹åˆ° Prop

### 1.2 Panel UI å®Œå…¨é‡æ„
- [!] ~~âŒ SListView å®ç°ï¼ˆä¸ç¬¦è§„æ ¼ï¼‰~~
- [x] **ğŸ”´ P0: æ›¿æ¢ä¸º STreeView**
  - å®šä¹‰ `FStageTreeItem` æ•°æ®ç»“æ„
  - å®ç° `OnGetChildren()` å±‚çº§å›è°ƒ
  - éªŒè¯ï¼šèƒ½çœ‹åˆ°æ ‘å½¢å±•å¼€/æŠ˜å 
- [x] **ğŸ”´ P0: å®ç° Acts æ–‡ä»¶å¤¹**
  - åˆ›å»º "Acts" æ ¹èŠ‚ç‚¹
  - Default Act ä½œä¸ºå­èŠ‚ç‚¹
  - è‡ªå®šä¹‰ Act ä½œä¸ºå­èŠ‚ç‚¹
  - éªŒè¯ï¼šæ ‘å½¢ç»“æ„æ­£ç¡®
- [x] **ğŸ”´ P0: å®ç° Registered Props æ–‡ä»¶å¤¹**
  - å¹³é“ºæ˜¾ç¤ºæ‰€æœ‰ Prop
  - éªŒè¯ï¼šèƒ½çœ‹åˆ°æ‰€æœ‰å·²æ³¨å†Œ Prop

### 1.3 åŸºç¡€äº¤äº’
- [x] `FStageEditorController` åŸºç¡€
- [x] **ğŸ”´ P0: Quick Create Buttons**
  - "Create Stage BP" æŒ‰é’® (AssetTools)
  - "Create Prop BP" æŒ‰é’® (AssetTools)
  - éªŒè¯ï¼šç‚¹å‡»èƒ½åˆ›å»ºå¯¹åº”çš„è“å›¾èµ„äº§
- [x] **ğŸ”´ P0: DebugHeader é›†æˆ**
  - å¼•å…¥ DebugHeader.h
  - æ›¿æ¢ç°æœ‰ UE_LOG
- [x] **ğŸ”´ P1: Register Selected Props æŒ‰é’®**
  - æ£€æµ‹ UStagePropComponent (Refactored AStage to support generic Actors)
  - è°ƒç”¨ `RegisterProp()`
  - éªŒè¯ï¼šé€‰ä¸­ Actor åç‚¹å‡»æŒ‰é’®èƒ½æ³¨å†Œ
- [x] **ğŸ”´ P1: Create Act æŒ‰é’®**
  - åˆ›å»ºæ–° Act èŠ‚ç‚¹
  - æ·»åŠ åˆ° TreeView
  - éªŒè¯ï¼šèƒ½åˆ›å»ºå¹¶æ˜¾ç¤º

### 1.4 PropState åŸºç¡€é¢„è§ˆï¼ˆå¯é€‰ï¼‰
- [ ] âš ï¸ P2: Preview æŒ‰é’®
- [ ] âš ï¸ P2: è°ƒç”¨ ConstructionScript åˆ·æ–°

**Phase 1 éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… TreeView æ­£ç¡®æ˜¾ç¤ºå±‚çº§ç»“æ„
- âœ… èƒ½çœ‹åˆ° Acts å’Œ Registered Props æ–‡ä»¶å¤¹
- âœ… Default Act è‡ªåŠ¨åˆ›å»º
- âœ… æ³¨å†Œ Prop åå‡ºç°åœ¨ Default Act ä¸‹
- âœ… åˆ›å»º Act åŠŸèƒ½æ­£å¸¸

---

## Phase 2: åŠŸèƒ½å¡«å…… (Feature Filling) â¸ï¸

### 2.1 é«˜çº§æ³¨å†Œ
- [ ] P1: æ‹–æ‹½æ³¨å†Œï¼ˆä» Outlinerï¼‰
- [ ] P1: å¸ç®¡/æ‹¾å–æ³¨å†Œ

### 2.2 è§†å£äº¤äº’
- [ ] P1: é€‰æ‹©åŒæ­¥ï¼ˆPanel â†” Viewportï¼‰
- [ ] P2: è¿çº¿å¯è§†åŒ–ï¼ˆé€‰ä¸­æ—¶ç»˜åˆ¶è™šçº¿ï¼‰

### 2.3 çŠ¶æ€ç®¡ç†
- [ ] P1: Act çŠ¶æ€è¦†å†™ç¼–è¾‘
- [ ] P1: PropState é¢„è§ˆå®Œå–„

### 2.4 DataLayer é›†æˆ
- [ ] P1: Act ç»‘å®š UDataLayerAsset
- [ ] P2: DataLayer é¢„è§ˆæ§åˆ¶

### 2.5 Editor Modeï¼ˆå¯é€‰ï¼‰
- [ ] P2: åˆ›å»º FStageEditorMode
- [ ] P2: æ¨¡å¼å·¥å…·æ 

**Phase 2 éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æ‹–æ‹½å’Œå¸ç®¡éƒ½èƒ½æ³¨å†Œ
- âœ… é€‰æ‹©åŒæ­¥å·¥ä½œ
- âœ… èƒ½ç¼–è¾‘ Act çŠ¶æ€
- âœ… DataLayer ç»‘å®šå¯ç”¨

---

## Phase 3: æ‰“ç£¨ (Polish) â¸ï¸

### 3.1 UX æ”¹è¿›
- [ ] P2: å¤šé€‰æ”¯æŒ
- [ ] P2: å³é”®èœå•
- [ ] P3: æœç´¢/è¿‡æ»¤

### 3.2 å¥å£®æ€§
- [ ] P1: Undo/Redo å®Œæ•´æ”¯æŒ
- [ ] P1: é”™è¯¯å¤„ç†å’Œæç¤º
- [ ] P2: è„çŠ¶æ€è¿½è¸ª

### 3.3 æ€§èƒ½ä¼˜åŒ–
- [ ] P2: å¤§é‡ Prop è™šæ‹ŸåŒ–
- [ ] P2: DataLayer å¼‚æ­¥åŠ è½½

### 3.4 æ–‡æ¡£
- [ ] P2: ç”¨æˆ·æ‰‹å†Œ
- [ ] P3: è§†é¢‘æ•™ç¨‹

**Phase 3 éªŒæ”¶æ ‡å‡†**ï¼š
- âœ… æ‰€æœ‰æ“ä½œæ”¯æŒæ’¤é”€
- âœ… å¤§æ•°æ®é›†ä¸å¡
- âœ… æ–‡æ¡£å®Œæ•´

---

## ğŸš¨ ç«‹å³è¡ŒåŠ¨ï¼ˆä¸‹ä¸€æ­¥ï¼‰

**å½“å‰çŠ¶æ€**ï¼šPhase 1 æœªå®Œæˆï¼ˆPanel ä¸ç¬¦åˆè§„æ ¼ï¼‰

**ä¸‹ä¸€æ­¥ä»»åŠ¡**ï¼š
1. âœ… ~~å®¡è®¡å¹¶æ›´æ–°å¼€å‘è®¡åˆ’~~ ï¼ˆå·²å®Œæˆï¼‰
2. **ğŸ”´ ä¿®å¤ AStage Default Act åˆ›å»º**
3. **ğŸ”´ é‡æ„ SStageEditorPanel ä½¿ç”¨ TreeView**
4. **ğŸ”´ æµ‹è¯•æ ¸å¿ƒæµç¨‹**

---

**å›¾ä¾‹**ï¼š
- `[x]` å·²å®Œæˆ
- `[/]` è¿›è¡Œä¸­
- `[ ]` å¾…å¼€å§‹
- `[!]` æœ‰é—®é¢˜
- ğŸ”´ P0ï¼šç´§æ€¥
- âš ï¸ P1ï¼šé«˜ä¼˜å…ˆçº§  
- â¸ï¸ P2/P3ï¼šä¸­ä½ä¼˜å…ˆçº§
